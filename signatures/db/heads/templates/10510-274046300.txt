template<typename X> inline bool max_update(X&p,X q){if(p>=q)return 0;p=q;return 1;}